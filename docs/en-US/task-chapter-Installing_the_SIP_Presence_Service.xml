<?xml version='1.0'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
]><!-- chapter id nickname: itsps -->
<chapter
	id="itsps-Installing_the_SIP_Presence_Service">
	<title>Installing the SIP Presence Service</title>
	<section
		id="itsps-binary-SIP_Presence_Service-Installing_Configuring_and_Running">
		<title>Mobicents SIP Presence Service: Installing, Configuring and Running</title>
		<para>There are multiple distributions of the <application>Mobicents SIP Presence Service</application>.</para>
		<variablelist
			id="itsps-Description_of_the_Different_SIP_Presence_Service_Distributions">
			<title>Description of the Different SIP Presence Service Distributions</title>
			<varlistentry>
				<term>The zipped-up source distribution</term>
				<listitem>
					<para>This distribution is source only, and its installation is not covered in this guide. Be careful you don't accidentally download this distribution when wanting one of the binary distributions (this one has <filename>.src</filename> in its file name).</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>The all-included integrated <application>SIP Presence Service</application> binary distribution <emphasis>with JBoss</emphasis>
				</term>
				<listitem>
					<para>These installation instructions detail the installation, running and configuring of the all-included <emphasis>integrated</emphasis> binary <application>SIP Presence Service</application> distribution. In addition to the <application>XML Document</application> and <application>SIP Presence Servers</application>, this distribution bundles the <application>JBoss Application Server</application>, the latest version of the <application>Mobicents JAIN SLEE Server</application>, and the SIP and HTTP Servlet resource adapters.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>The integrated <application>SIP Presence Service</application> binary distribution <emphasis>without</emphasis> JBoss</term>
				<listitem>
					<para>Users who have already installed and set up a separate <application>Mobicents JAIN SLEE Server</application> installation may want to install this the integrated distribution without JBoss. If you install this distribution, keep in mind that the <envar>JBOSS_HOME</envar> environment variable <emphasis>must</emphasis> be set to the correct location.</para>
				</listitem>
			</varlistentry>
			<varlistentry>
				<term>The <application>XML Document Management</application> Server binary distribution with <application>JBoss</application>
				</term>
				<listitem>
					<para>Users who wish to deploy the <application>XML Document Server</application> on a different host or who do not require the <application>SIP Presence Server</application> should install the standalone <application>XDM Server</application> binary distribution. The following installation, running and configuring instructions provide parallel instructions specific to the <application>XDM Server</application>.</para>
				</listitem>
			</varlistentry>
		</variablelist>
		<bridgehead
			id="itsps-Installing_the_Java_Development_Kit">Installing the Java Development Kit</bridgehead>
		<xi:include
			xmlns:xi="http://www.w3.org/2001/XInclude"
			href="mob-task-section-Java_Development_Kit-Installing_Configuring_and_Running.xml"/>
		<section
			id="itsps-binary-SIP_Presence_Service-PreInstall_Requirements_and_Prerequisites">
			<title>Pre-Install Requirements and Prerequisites</title>
			<para>You should ensure that a few requirements have been met before continuing with the install.</para>
			<variablelist
				id="itsps-binary-SIP_Presence_Service-Hardware_Requirements">
				<title>Hardware Requirements</title>
				<varlistentry>
					<term>Sufficient Disk Space</term>
					<listitem>
						<para>You must have sufficient disk space in order to install the integrated <application>SIP Presence Service</application> binary release. Once unzipped, version &SPS_INT_VERSION; of the integrated <application>SIP Presence Service</application> binary release requires <emphasis>at least</emphasis> &SPS_INT_SIZE; of free disk space. Version &SPS_XDMS_VERSION; of the <application>XDM Server</application> binary release requires <emphasis>at least</emphasis> &SPS_XDMS_SIZE; of disk space. Keep in mind that disk space requirements may change from release to release.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>Anything Java Itself Will Run On</term>
					<listitem>
						<para>The Mobicents <application>SIP Presence Service</application> and its bundled servers, <application>JBoss</application> and <application>JAIN SLEE</application>, are all 100% Java. <application>SIP Presence Service</application> will run on the same hardware that the <application>JBoss Application Server</application> runs on.</para>
					</listitem>
				</varlistentry>
			</variablelist>
			<variablelist
				id="itsps-binary-SIP_Presence_Service-Software_Prerequisites">
				<title>Software Prerequisites</title>
				<varlistentry>
					<term>JDK 5 or Higher</term>
					<listitem>
						<para>A working installation of the Java Development Kit (<acronym>JDK</acronym>) version 5 or higher is required in order to run the <application>Mobicents SIP Presence Service</application>. Note that the <application>JBoss Application Server</application> is a runtime dependency of the <application>SIP Presence Service</application> and, as mentioned, comes bundled with the main binary distribution.</para>
						<!--<para>For instructions on how to install the JDK, refer to <xref linkend="itsps-Installing_the_Java_Development_Kit"/>.</para>-->
					</listitem>
				</varlistentry>
			</variablelist>
		</section>
		<section
			id="itsps-binary-SIP_Presence_Service-Downloading">
			<title>Downloading</title>
			<para>You can download the latest version of the <application>SIP Presence Service</application> distribution you need from the Mobicents <literal>Downloads</literal> page at <ulink
					url="http://sourceforge.net/project/showfiles.php?group_id=102670"/>. Click on the <literal>Mobicents SIP Presence Service</literal> link to view all available distributions and downloads. The latest releases are nearer the top.</para>
			<para>If you are unsure which distribution zip file to download, refer to <xref
					linkend="itsps-Description_of_the_Different_SIP_Presence_Service_Distributions"/>, and then to the following list of release binaries.</para>
			<variablelist
				id="itsps-SIP_Presence_Service_Binary_Distribution_Zip_Files">
				<title>SIP Presence Service Binary Distribution Zip Files</title>
				<varlistentry>
					<term>&SPS_INT_ZIP;</term>
					<listitem>
						<para>Download this zip file to obtain the integrated <application>SIP Presence Service</application> binary distribution, which includes the <application>SIP Presence Server</application>, the <application>XDM Server</application>, and the <application>JBoss Application Server</application> as well as all required resource adapters.</para>
					</listitem>
				</varlistentry>
				<varlistentry>
					<term>&SPS_XDMS_ZIP;</term>
					<listitem>
						<para>Download this zip file to obtain the <application>XML Document Management Server</application> binary distribution, which bundles the <application>JBoss Application Server</application> and the <application>Mobicents JAIN SLEE Server</application>.</para>
					</listitem>
				</varlistentry>
			</variablelist>
		</section>
		<section
			id="itsps-binary-SIP_Presence_Service-Installing">
			<title>Installing</title>
			<para>Once the requirements and prerequisites have been met, and you have downloaded the correct zip file for the binary distribution you need, you are ready to install the <application>SIP Presence Service</application> (or <application>XDM Server</application>). Follow the instructions below for your platform, whether Linux or Windows.</para>
			<note
				id="itsps-section-SIP_Presence_Service-Use_Version_Numbers_Relevant_to_Your_Installation">
				<title>Use Version Numbers Relevant to Your Installation!</title>
				<para>For clarity, the command line instructions presented in this chapter use specific version numbers and directory names. Remember to replace them with version numbers and file names relevant to those you are actually working with.</para>
			</note>
			<procedure>
				<title>Installing the SIP Presence Service Binary Distribution on Linux</title>
				<step>
					<para>Assuming that you downloaded the binary distribution zip file to your home folder, create a subdirectory to unzip the files to. It is good practice to include the version number in this directory name; if you do so, remember to correctly match it with the version of the binary distribution you downloaded.</para>
					<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
					<!-- ~]$ mkdir "sps-<replaceable><version></replaceable>" -->
					<screen
						condition="jbcp">~]$ mkdir &quot;sps-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
					<screen
						condition="mob">~]$ mkdir &quot;sps-&lt;version&gt;&quot;</screen>
					<bridgehead>
						<application>XDM Server</application>:</bridgehead>
						 <!-- ~]$ mkdir "xdms-<replaceable><version></replaceable>" -->
					<screen
						condition="jbcp">~]$ mkdir &quot;xdms-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
					<screen
						condition="mob">~]$ mkdir &quot;xdms-&lt;version&gt;&quot;</screen>
				</step>
				<step>
					<para>Move the downloaded zip file into the directory you just created:</para>
					<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
					<!-- ~]$ mv "&SPS_INT_ZIP;" "sps-<replaceable><version></replaceable>" -->
					<screen
						condition="jbcp">~]$ mv &quot;&SPS_INT_ZIP;&quot; &quot;sps-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
					<screen
						condition="mob">~]$ mv &quot;&SPS_INT_ZIP;&quot; &quot;sps-&lt;version&gt;&quot;</screen>
					<bridgehead>
						<application>XDM Server</application>:</bridgehead>
					 <!-- ~]$ mv "&SPS_XDMS_ZIP;" "xdms-<replaceable><version></replaceable>" -->
					<screen
						condition="jbcp">~]$ mv &quot;&SPS_XDMS_ZIP;&quot; &quot;xdms-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
					<screen
						condition="mob">~]$ mv &quot;&SPS_XDMS_ZIP;&quot; &quot;xdms-&lt;version&gt;&quot;</screen>
				</step>
				<step>
					<para>Move into the directory:</para>
					<!-- ~]$ cd "sps-<replaceable><version></replaceable>" -->
					<screen
						condition="jbcp">~]$ cd &quot;sps-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
					<screen
						condition="mob">~]$ cd &quot;sps-&lt;version&gt;&quot;</screen>
					<para>Or...</para>
					<!-- ~]$ cd "xdms-<replaceable><version></replaceable>" -->
					<screen
						condition="jbcp">~]$ cd &quot;xdms-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
					<screen
						condition="mob">~]$ cd &quot;xdms-&lt;version&gt;&quot;</screen>

				</step>
				<step>
					<para>Finally, use Java's <command>jar <option>-xvf</option>
							</command> command to extract the contents of the zip file into the current directory, thus completing the install:</para>
					<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
					<!-- sps-<replaceable><version></replaceable>]$ jar -xvf "&SPS_INT_ZIP;" -->
					<screen
						condition="jbcp">sps-<replaceable>&lt;version&gt;</replaceable>]$ jar -xvf &quot;&SPS_INT_ZIP;&quot;</screen>
					<screen
						condition="mob">sps-&lt;version&gt;]$ jar -xvf &quot;&SPS_INT_ZIP;&quot;</screen>
					<bridgehead>
						<application>XDM Server</application>:</bridgehead>
					<!-- xdms-<replaceable><version></replaceable>]$ jar -xvf "&SPS_XDMS_ZIP;" -->
					<screen
						condition="jbcp">xdms-<replaceable>&lt;version&gt;</replaceable>]$ jar -xvf &quot;&SPS_XDMS_ZIP;&quot;</screen>
					<screen
						condition="mob">xdms-&lt;version&gt;]$ jar -xvf &quot;&SPS_XDMS_ZIP;&quot;</screen>
					<!--<stepalternatives>
						<step>
							<para>Alternatively, if Linux's <command>unzip</command> utility is present on your system or is installable, you can use it in lieu of Java's <command>jar <option>-xvf</option>
									</command> command:</para>
							<screen><![CDATA[sps-integrated-1.0.0]$ unzip "mobicents-sip-presence-integrated-.zip"]]></screen>
							<note>
								<para>You can also use <command>unzip</command>'s <option>-d</option>
									<filename>
								<replaceable>&lt;unzip_to_location&gt;</replaceable>
							</filename> option to extract the zip file's contents to a location other than the current directory.</para>
							</note>
						</step>
					</stepalternatives>-->
				</step>
				<step>
					<para>To free disk space, you may want to delete the zip file once you've extracted its contents:</para>
					<!-- sps-<replaceable><version></replaceable>]$ rm "&SPS_INT_ZIP;" -->
					<screen
						condition="jbcp">sps-<replaceable>&lt;version&gt;</replaceable>]$ rm &quot;&SPS_INT_ZIP;&quot;</screen>
					<screen
						condition="mob">sps-&lt;version&gt;]$ rm &quot;&SPS_INT_ZIP;&quot;</screen>
					<!-- xdms-<replaceable><version></replaceable>]$ rm "&SPS_XDMS_ZIP;" -->
					<screen
						condition="jbcp">xdms-<replaceable>&lt;version&gt;</replaceable>]$ rm &quot;&SPS_XDMS_ZIP;&quot;</screen>
					<screen
						condition="mob">xdms-&lt;version&gt;]$ rm &quot;&SPS_XDMS_ZIP;&quot;</screen>

				</step>
			</procedure>
			<procedure>
				<title>Installing the SIP Presence Service Binary Distribution on Windows</title>
				<step>
					<para>For this example, we'll assume that you downloaded the binary distribution zip file to the <filename>My Downloads</filename> folder. First, using Windows Explorer, create a subfolder in <filename>My Downloads</filename> to extract the zip file's contents into. When you name this folder, it is good practice to include the version number; if you do so, remember to correctly match it with the version of the <application>SIP Presence Service</application> or <application>XDM Server</application> binary distribution you downloaded. In these instructions, we will refer to this folder as <filename>sps-<replaceable>&lt;version&gt;</replaceable>
						</filename> or <filename>xdms-<replaceable>&lt;version&gt;</replaceable>
						</filename>.</para>
				</step>
				<step>
					<para>Double-click the downloaded zip file, selecting as the destination folder the one you just created to hold the zip file's contents.</para>
					<stepalternatives>
						<step>
							<para>Alternatively, it is also possible to use Java's <command>jar <option>-xvf</option>
									</command> command to extract the binary distribution files from the zip archive. To use this method instead, first move the downloaded zip file from <filename>My Downloads</filename> to the folder that you just created to hold the server's files.</para>
						</step>
						<step>
							<para>Then, open the Windows Command Prompt and navigate to the folder holding the archive using the <command>cd</command> command:</para>
							<note
								id="itsps-binary-SIP_Presence_Service-Opening_the_Command_Prompt_from_Windows_Explorer">
								<title>Opening the Command Prompt from Windows Explorer</title>
								<para>If you are using Windows Vista&#xAE;, you can open the Command Prompt directly from Explorer. Hold down the <keycap>Shift</keycap> key and right-click on either a folder, the desktop, or inside a folder. This will cause an <guimenuitem>Open Command Window Here</guimenuitem> context menu item to appear, which can be used to open the Command Prompt with the current working directory set to either the folder you opened, or opened it from.</para>
							</note>
							 <!--C:\Users\Me>cd "My Downloads\sps-<replaceable><version></replaceable>" -->
							<screen
								condition="jbcp">C:\Users\Me&gt;cd &quot;My Downloads\sps-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
							<screen
								condition="mob">C:\Users\Me&gt;cd &quot;My Downloads\sps-&lt;version&gt;&quot;</screen>
							<para>Or...</para>
							<!-- C:\Users\Me>cd "My Downloads\xdms-<replaceable><version></replaceable>" -->
							<screen
								condition="jbcp">C:\Users\Me&gt;cd &quot;My Downloads\xdms-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
							<screen
								condition="mob">C:\Users\Me&gt;cd &quot;My Downloads\xdms-&lt;version&gt;&quot;</screen>
						</step>
						<step>
							<para>Finally, use the <command>jar <option>-xvf</option>
									</command> command to extract the archive contents into the current folder.</para>
							<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
							 <!-- C:\Users\Me\My Downloads\sps-<replaceable><version></replaceable>>jar -xvf "&SPS_INT_ZIP;"  -->
							<screen
								condition="jbcp">C:\Users\Me\My Downloads\sps-<replaceable>&lt;version&gt;</replaceable>&gt;jar -xvf &quot;&SPS_INT_ZIP;&quot; </screen>
							<screen
								condition="mob">C:\Users\Me\My Downloads\sps-&lt;version&gt;&gt;jar -xvf &quot;&SPS_INT_ZIP;&quot; </screen>
							<bridgehead>
								<application>XDM Server</application>:</bridgehead>
								     <!-- C:\Users\Me\My Downloads\xdms-<replaceable><version></replaceable>>jar -xvf "&SPS_XDMS_ZIP;"  -->
							<screen
								condition="jbcp">C:\Users\Me\My Downloads\xdms-<replaceable>&lt;version&gt;</replaceable>&gt;jar -xvf &quot;&SPS_XDMS_ZIP;&quot; </screen>
							<screen
								condition="mob">C:\Users\Me\My Downloads\xdms-&lt;version&gt;&gt;jar -xvf &quot;&SPS_XDMS_ZIP;&quot; </screen>

						</step>
					</stepalternatives>
				</step>
				<step>
					<para>At this point, you may want to move the folder holding the <application>SIP Presence Service</application> or <application>XDM Server</application> binary files (in this example, the folder named <filename>sps-<replaceable>&lt;version&gt;</replaceable>
						</filename> or <filename>xdms-<replaceable>&lt;version&gt;</replaceable>
						</filename>) to another location. This step is not strictly necessary, but it is probably a good idea to move the server's folder from <filename>My Downloads</filename> to a user-defined location for storing runnable programs. Any location will suffice, however.</para>
				</step>
				<step>
					<para>You may also want to delete the zip file after extracting its contents in order to free disk space:</para>
					 <!-- C:\Users\Me\My Downloads\sps-<replaceable><version></replaceable>>delete "&SPS_INT_ZIP;" -->
					<screen
						condition="jbcp">C:\Users\Me\My Downloads\sps-<replaceable>&lt;version&gt;</replaceable>&gt;delete &quot;&SPS_INT_ZIP;&quot;</screen>
					<screen
						condition="mob">C:\Users\Me\My Downloads\sps-&lt;version&gt;&gt;delete &quot;&SPS_INT_ZIP;&quot;</screen>

					  <!-- C:\Users\Me\My Downloads\xdms-<replaceable><version></replaceable>>delete "&SPS_XDMS_ZIP;"  -->
					<screen
						condition="jbcp">C:\Users\Me\My Downloads\xdms-<replaceable>&lt;version&gt;</replaceable>&gt;delete &quot;&SPS_XDMS_ZIP;&quot; </screen>
					<screen
						condition="mob">C:\Users\Me\My Downloads\xdms-&lt;version&gt;&gt;delete &quot;&SPS_XDMS_ZIP;&quot; </screen>
				</step>
			</procedure>
		</section>
		<section
			id="itsps-binary-SIP_Presence_Service-Running">
			<title>Running</title>
			<para>Once installed, you can run the <application>SIP Presence Service</application> or <application>XDM Server</application> by executing the one of the startup scripts in the <filename>&lt;install_directory&gt;/&SPS_INT_JBOSS_HOME_BIN_LIN;</filename> directory (on Linux or Windows), or by double-clicking the <filename>run.bat</filename> executable batch file in that same directory (on Windows only). However, we suggest always starting the server using the terminal or Command Prompt because you are then able to read&#x2014;and act upon&#x2014;any startup messages, and possibly debug any problems that might arise. In the Linux terminal or Command Prompt, you will be able to tell that the server started successfully if the last line of output is similar to the following (ending with <quote>Started in 23s:648ms</quote>):</para>
			<programlisting><![CDATA[11:23:07,656 INFO  [Server] JBoss (MX MicroKernel) [4.2.3.GA (build: SVNTag=JBoss_4_2_2_GA date=200710221139)] Started in 23s:648ms]]></programlisting>
			<para>Detailed instructions are given below, arranged by platform.</para>
			<procedure>
				<title>Running the SIP Presence Service on Linux</title>
				<step>
					<para>Change your working directory to the <application>SIP Presence Service</application>'s or <application>XDM Server</application>'s install directory:</para>
					<!-- ~]$ cd "sps-<replaceable><version></replaceable>" -->
					<screen
						condition="jbcp">~]$ cd &quot;sps-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
					<screen
						condition="mob">~]$ cd &quot;sps-&lt;version&gt;&quot;</screen>
					<para>Or...</para>
					<!-- ~]$ cd "xdms-<replaceable><version></replaceable>" -->
					<screen
						condition="jbcp">~]$ cd &quot;xdms-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
					<screen
						condition="mob">~]$ cd &quot;xdms-&lt;version&gt;&quot;</screen>
				</step>
				<step
					performance="optional">
					<para>(Optional) Ensure that the <filename>&SPS_INT_JBOSS_HOME_BIN_LIN;run.sh</filename> start script is executable:</para>
					<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
					<!-- sps-<replaceable><version></replaceable>]$ chmod +x "&SPS_INT_JBOSS_HOME_BIN_LIN;run.sh" -->
					<screen
						condition="jbcp">sps-<replaceable>&lt;version&gt;</replaceable>]$ chmod +x &quot;&SPS_INT_JBOSS_HOME_BIN_LIN;run.sh&quot;</screen>
					<screen
						condition="mob">sps-&lt;version&gt;]$ chmod +x &quot;&SPS_INT_JBOSS_HOME_BIN_LIN;run.sh&quot;</screen>
					<bridgehead>
						<application>XDM Server</application>:</bridgehead>
					<!-- xdms-<replaceable><version></replaceable>]$ chmod +x "&SPS_XDMS_JBOSS_HOME_BIN_LIN;run.sh" -->
					<screen
						condition="jbcp">xdms-<replaceable>&lt;version&gt;</replaceable>]$ chmod +x &quot;&SPS_XDMS_JBOSS_HOME_BIN_LIN;run.sh&quot;</screen>
					<screen
						condition="mob">xdms-&lt;version&gt;]$ chmod +x &quot;&SPS_XDMS_JBOSS_HOME_BIN_LIN;run.sh&quot;</screen>

				</step>
				<step>
					<para>Finally, execute the <filename>run.sh</filename> Bourne shell script:</para>
					<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
					<!-- sps-<replaceable><version></replaceable>]$ "./&SPS_INT_JBOSS_HOME_BIN_LIN;run.sh" -->
					<screen
						condition="jbcp">sps-<replaceable>&lt;version&gt;</replaceable>]$ &quot;./&SPS_INT_JBOSS_HOME_BIN_LIN;run.sh&quot;</screen>
					<screen
						condition="mob">sps-&lt;version&gt;]$ &quot;./&SPS_INT_JBOSS_HOME_BIN_LIN;run.sh&quot;</screen>
					<bridgehead>
						<application>XDM Server</application>:</bridgehead>
						<!-- xdms-<replaceable><version></replaceable>]$ "./&SPS_XDMS_JBOSS_HOME_BIN_LIN;run.sh" -->
					<screen
						condition="jbcp">xdms-<replaceable>&lt;version&gt;</replaceable>]$ &quot;./&SPS_XDMS_JBOSS_HOME_BIN_LIN;run.sh&quot;</screen>
					<screen
						condition="mob">xdms-&lt;version&gt;]$ &quot;./&SPS_XDMS_JBOSS_HOME_BIN_LIN;run.sh&quot;</screen>

					<stepalternatives>
						<step>
							<para>Instead of executing the Bourne shell script to start the server, you may alternatively run the <filename>run.jar</filename> executable Java archive in the <filename>&SPS_INT_JBOSS_HOME_BIN_LIN;</filename> directory:</para>
							<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
							<!-- sps-<replaceable><version></replaceable>]$ java -jar "&SPS_INT_JBOSS_HOME_BIN_LIN;run.jar" -->
							<screen
								condition="jbcp">sps-<replaceable>&lt;version&gt;</replaceable>]$ java -jar &quot;&SPS_INT_JBOSS_HOME_BIN_LIN;run.jar&quot;</screen>
							<screen
								condition="mob">sps-&lt;version&gt;]$ java -jar &quot;&SPS_INT_JBOSS_HOME_BIN_LIN;run.jar&quot;</screen>
							<bridgehead>
								<application>XDM Server</application>:</bridgehead>
								 <!-- xdms-<replaceable><version></replaceable>]$ java -jar "&SPS_XDMS_JBOSS_HOME_BIN_LIN;run.jar" -->
							<screen
								condition="jbcp">xdms-<replaceable>&lt;version&gt;</replaceable>]$ java -jar &quot;&SPS_XDMS_JBOSS_HOME_BIN_LIN;run.jar&quot;</screen>
							<screen
								condition="mob">xdms-&lt;version&gt;]$ java -jar &quot;&SPS_XDMS_JBOSS_HOME_BIN_LIN;run.jar&quot;</screen>
						</step>
					</stepalternatives>
				</step>
			</procedure>
			<procedure>
				<title>Running the SIP Presence Service on Windows</title>
				<step>
					<para>There are several different ways to start the <application>SIP Presence Service</application> or <application>XDM Server</application> on Windows. All of the following methods accomplish the same task.</para>
					<para>Using Windows Explorer, change your folder to the one in which you unzipped the downloaded zip file, and then to the <filename>&SPS_INT_JBOSS_HOME_BIN_WIN;</filename> subfolder.</para>
				</step>
				<step>
					<para>Although not the preferred way (see below), it is possible to start the server by double-clicking on the <filename>run.bat</filename> executable batch file.</para>
					<stepalternatives>
						<step>
							<para>As mentioned above, the best way to start the <application>SIP Presence Service</application> or <application>XDM Server</application>is by using the Command Prompt. Doing it this way will allow you to view all of the server startup details, which will enable you to easily determine whether any problems were encountered during the startup process. You can open the Command Prompt directly from the <filename>&lt;install_directory&gt;\&SPS_INT_JBOSS_HOME_BIN_WIN;</filename> folder in Windows Explorer<!--(see <xref
									linkend="itsps-binary-SIP_Presence_Service-Opening_the_Command_Prompt_from_Windows_Explorer"/> for details)-->, or you can open the Command Prompt via the <guilabel>Start</guilabel> menu and navigate to the correct folder:</para>
							 <!-- C:\Users\Me\My Downloads> cd "sps-<replaceable><version></replaceable>" -->
							<screen
								condition="jbcp">C:\Users\Me\My Downloads&gt; cd &quot;sps-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
							<screen
								condition="mob">C:\Users\Me\My Downloads&gt; cd &quot;sps-&lt;version&gt;&quot;</screen>
							<para>Or...</para>
							<!-- C:\Users\Me\My Downloads> cd "xdms-<replaceable><version></replaceable>" -->
							<screen
								condition="jbcp">C:\Users\Me\My Downloads&gt; cd &quot;xdms-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
							<screen
								condition="mob">C:\Users\Me\My Downloads&gt; cd &quot;xdms-&lt;version&gt;&quot;</screen>

						</step>
						<step>
							<para>Start the server by running the executable <filename>run.bat</filename> batch file:</para>
							<!-- C:\Users\Me\My Downloads\sps-<replaceable><version></replaceable>>&SPS_INT_JBOSS_HOME_BIN_WIN;run.bat -->
							<screen
								condition="jbcp">C:\Users\Me\My Downloads\sps-<replaceable>&lt;version&gt;</replaceable>&gt;&SPS_INT_JBOSS_HOME_BIN_WIN;run.bat</screen>
							<screen
								condition="mob">C:\Users\Me\My Downloads\sps-&lt;version&gt;&gt;&SPS_INT_JBOSS_HOME_BIN_WIN;run.bat</screen>
							<!-- C:\Users\Me\My Downloads\xdms-<replaceable><version></replaceable>>&SPS_XDMS_JBOSS_HOME_BIN_WIN;run.bat -->
							<screen
								condition="jbcp">C:\Users\Me\My Downloads\xdms-<replaceable>&lt;version&gt;</replaceable>&gt;&SPS_XDMS_JBOSS_HOME_BIN_WIN;run.bat</screen>
							<screen
								condition="mob">C:\Users\Me\My Downloads\xdms-&lt;version&gt;&gt;&SPS_XDMS_JBOSS_HOME_BIN_WIN;run.bat</screen>

							<stepalternatives>
								<step>
									<para>It is also possible to start the <application>SIP Presence Service</application> (or <application>XDM Server</application>) by running the <filename>run.jar</filename> executable Java archive:</para>
									<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
									<!-- C:\Users\Me\My Downloads\sps-<replaceable><version></replaceable>>java -jar "&SPS_INT_JBOSS_HOME_BIN_WIN;run.jar" -->
									<screen
										condition="jbcp">C:\Users\Me\My Downloads\sps-<replaceable>&lt;version&gt;</replaceable>&gt;java -jar &quot;&SPS_INT_JBOSS_HOME_BIN_WIN;run.jar&quot;</screen>
									<screen
										condition="mob">C:\Users\Me\My Downloads\sps-&lt;version&gt;&gt;java -jar &quot;&SPS_INT_JBOSS_HOME_BIN_WIN;run.jar&quot;</screen>
									<bridgehead>
										<application>XDM Server</application>:</bridgehead>
									<!-- C:\Users\Me\My Downloads\xdms-<replaceable><version></replaceable>>java -jar "&SPS_XDMS_JBOSS_HOME_BIN_WIN;run.jar" -->
									<screen
										condition="jbcp">C:\Users\Me\My Downloads\xdms-<replaceable>&lt;version&gt;</replaceable>&gt;java -jar &quot;&SPS_XDMS_JBOSS_HOME_BIN_WIN;run.jar&quot;</screen>
									<screen
										condition="mob">C:\Users\Me\My Downloads\xdms-&lt;version&gt;&gt;java -jar &quot;&SPS_XDMS_JBOSS_HOME_BIN_WIN;run.jar&quot;</screen>
								</step>
							</stepalternatives>
						</step>
					</stepalternatives>
				</step>
			</procedure>
		</section>
		<section
			id="itsps-binary-SIP_Presence_Service-Stopping">
			<title>Stopping</title>
			<para>Detailed instructions for stopping the <application>SIP Presence Service</application> and <application>XDM Server</application> are given below, arranged by platform. Note that if you properly stop the server, you will see the following three lines as the last output in the Linux terminal or Command Prompt:</para>
			<programlisting><![CDATA[[Server] Shutdown complete
Shutdown complete
Halting VM]]></programlisting>
			<!--<procedure>
				<title>Stopping the SIP Presence Service on Linux by Issuing a Control Code</title>
				<step>
					<para>Assuming that you started the <application>SIP Presence Service</application> as a foreground process in the terminal, the easiest way to stop it is by pressing the <keycombo
							action="simul"><keycap>Ctrl</keycap>
						<keycap>c</keycap>
					</keycombo> key combination in the same terminal in which you started it.
						</para>
				</step>
			</procedure>-->
			<procedure>
				<title>Stopping the SIP Presence Service on Linux by Executing <filename>shutdown.sh</filename> or <filename>shutdown.jar</filename>
				</title>
				<step>
					<para>You can shut down the server by executing the <filename>shutdown.sh</filename> Bourne shell script in the <filename>&lt;install_directory&gt;/&SPS_INT_JBOSS_HOME_BIN_LIN;</filename> directory. To do so, first change your working directory to the <application>SIP Presence Service</application>'s (or <application>XDM Server</application>'s) install directory:</para>
					<!-- ~]$ cd "sps-<replaceable><version></replaceable>" -->
					<screen
						condition="jbcp">~]$ cd &quot;sps-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
					<screen
						condition="mob">~]$ cd &quot;sps-&lt;version&gt;&quot;</screen>

					<para>Or...</para>
					<!-- ~]$ cd "xdms-<replaceable><version></replaceable>" -->
					<screen
						condition="jbcp">~]$ cd &quot;xdms-<replaceable>&lt;version&gt;</replaceable>&quot;</screen>
					<screen
						condition="mob">~]$ cd &quot;xdms-&lt;version&gt;&quot;</screen>

				</step>
				<step
					performance="optional">
					<para>(Optional) Ensure that the <filename>shutdown.sh</filename> start script is executable:</para>
					<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
					<!-- sps-<replaceable><version></replaceable>]$ chmod +x "&SPS_INT_JBOSS_HOME_BIN_LIN;shutdown.sh" -->
					<screen
						condition="jbcp">sps-<replaceable>&lt;version&gt;</replaceable>]$ chmod +x &quot;&SPS_INT_JBOSS_HOME_BIN_LIN;shutdown.sh&quot;</screen>
					<screen
						condition="mob">sps-&lt;version&gt;]$ chmod +x &quot;&SPS_INT_JBOSS_HOME_BIN_LIN;shutdown.sh&quot;</screen>
					<bridgehead>
						<application>XDM Server</application>:</bridgehead>
						<!-- xdms-<replaceable><version></replaceable>]$ chmod +x "&SPS_XDMS_JBOSS_HOME_BIN_LIN;shutdown.sh" -->
					<screen
						condition="jbcp">xdms-<replaceable>&lt;version&gt;</replaceable>]$ chmod +x &quot;&SPS_XDMS_JBOSS_HOME_BIN_LIN;shutdown.sh&quot;</screen>
					<screen
						condition="mob">xdms-&lt;version&gt;]$ chmod +x &quot;&SPS_XDMS_JBOSS_HOME_BIN_LIN;shutdown.sh&quot;</screen>

				</step>
				<step>
					<para>Finally, run the <filename>shutdown.sh</filename> executable Bourne shell script, and remember to add the <option>-S</option> option (which is the short option for <option>--shutdown</option>) as a command line argument:</para>
					<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
					  <!-- sps-<replaceable><version></replaceable>]$ "./&SPS_INT_JBOSS_HOME_BIN_LIN;shutdown.sh" -S  -->
					<screen
						condition="jbcp">sps-<replaceable>&lt;version&gt;</replaceable>]$ &quot;./&SPS_INT_JBOSS_HOME_BIN_LIN;shutdown.sh&quot; -S </screen>
					<screen
						condition="mob">sps-&lt;version&gt;]$ &quot;./&SPS_INT_JBOSS_HOME_BIN_LIN;shutdown.sh&quot; -S </screen>
					<bridgehead>
						<application>XDM Server</application>:</bridgehead>
					 <!-- xdms-<replaceable><version></replaceable>]$ "./&SPS_XDMS_JBOSS_HOME_BIN_LIN;shutdown.sh" -S  -->
					<screen
						condition="jbcp">xdms-<replaceable>&lt;version&gt;</replaceable>]$ &quot;./&SPS_XDMS_JBOSS_HOME_BIN_LIN;shutdown.sh&quot; -S </screen>
					<screen
						condition="mob">xdms-&lt;version&gt;]$ &quot;./&SPS_XDMS_JBOSS_HOME_BIN_LIN;shutdown.sh&quot; -S </screen>
					<stepalternatives>
						<step>
							<para>Instead of executing the Bourne shell script to stop the server, you may alternatively run the <filename>shutdown.jar</filename> executable Java archive to do so (and remembering, again, to add the <option>-S</option> command line argument):</para>
							<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
							<!-- sps-<replaceable><version></replaceable>]$ java -jar "&SPS_INT_JBOSS_HOME_BIN_LIN;shutdown.jar" -S -->
							<screen
								condition="jbcp">sps-<replaceable>&lt;version&gt;</replaceable>]$ java -jar &quot;&SPS_INT_JBOSS_HOME_BIN_LIN;shutdown.jar&quot; -S</screen>
							<screen
								condition="mob">sps-&lt;version&gt;]$ java -jar &quot;&SPS_INT_JBOSS_HOME_BIN_LIN;shutdown.jar&quot; -S</screen>
							<bridgehead>
								<application>XDM Server</application>:</bridgehead>
							<!-- xdms-<replaceable><version></replaceable>]$ java -jar "&SPS_XDMS_JBOSS_HOME_BIN_LIN;shutdown.jar" -S -->
							<screen
								condition="jbcp">xdms-<replaceable>&lt;version&gt;</replaceable>]$ java -jar &quot;&SPS_XDMS_JBOSS_HOME_BIN_LIN;shutdown.jar&quot; -S</screen>
							<screen
								condition="mob">xdms-&lt;version&gt;]$ java -jar &quot;&SPS_XDMS_JBOSS_HOME_BIN_LIN;shutdown.jar&quot; -S</screen>
						</step>
					</stepalternatives>
				</step>
			</procedure>
			<procedure>
				<title>Stopping the SIP Presence Service on Windows</title>
				<step>
					<para>Stopping the <application>SIP Presence Service</application> (or <application>XDM Server</application>) on Windows consists in executing either the <filename>shutdown.bat</filename> or the <filename>shutdown.jar</filename> executable file in the <filename>&SPS_INT_JBOSS_HOME_BIN_LIN;</filename> subfolder of the <application>SIP Presence Service</application>/<application>XDM Server</application> binary distribution. Make sure to add the <option>-S</option> option (which is the short option for <option>--shutdown</option>) as a command line argument.</para>
					<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
					 <!--C:\Users\Me\My Downloads\sps-<replaceable><version></replaceable>>&SPS_INT_JBOSS_HOME_BIN_WIN;shutdown.bat -S-->
					<screen
						condition="jbcp">C:\Users\Me\My Downloads\sps-<replaceable>&lt;version&gt;</replaceable>&gt;&SPS_INT_JBOSS_HOME_BIN_WIN;shutdown.bat -S</screen>
					<screen
						condition="mob">C:\Users\Me\My Downloads\sps-&lt;version&gt;&gt;&SPS_INT_JBOSS_HOME_BIN_WIN;shutdown.bat -S</screen>
					<bridgehead>
						<application>XDM Server</application>:</bridgehead>
					<!-- C:\Users\Me\My Downloads\xdms-<replaceable><version></replaceable>>&SPS_XDMS_JBOSS_HOME_BIN_WIN;shutdown.bat -S -->
					<screen
						condition="jbcp">C:\Users\Me\My Downloads\xdms-<replaceable>&lt;version&gt;</replaceable>&gt;&SPS_XDMS_JBOSS_HOME_BIN_WIN;shutdown.bat -S</screen>
					<screen
						condition="mob">C:\Users\Me\My Downloads\xdms-&lt;version&gt;&gt;&SPS_XDMS_JBOSS_HOME_BIN_WIN;shutdown.bat -S</screen>

					<stepalternatives>
						<step>
							<para>Alternatively, you can execute the <filename>shutdown.jar</filename> Java archive by running the <command>java <option>-jar</option>
									</command> command, and remembering to add the <option>-S</option> option as a command line argument:</para>
							<bridgehead>Integrated <application>SIP Presence Service</application>:</bridgehead>
							 <!-- C:\Users\Me\My Downloads\sps-<replaceable><version></replaceable>>java -jar "&SPS_INT_JBOSS_HOME_BIN_WIN;shutdown.jar" -S  -->
							<screen
								condition="jbcp">C:\Users\Me\My Downloads\sps-<replaceable>&lt;version&gt;</replaceable>&gt;java -jar &quot;&SPS_INT_JBOSS_HOME_BIN_WIN;shutdown.jar&quot; -S </screen>
							<screen
								condition="mob">C:\Users\Me\My Downloads\sps-&lt;version&gt;&gt;java -jar &quot;&SPS_INT_JBOSS_HOME_BIN_WIN;shutdown.jar&quot; -S </screen>
							<bridgehead>
								<application>XDM Server</application>:</bridgehead>
							 <!-- C:\Users\Me\My Downloads\sps-<replaceable><version></replaceable>>java -jar "&SPS_XDMS_JBOSS_HOME_BIN_WIN;shutdown.jar" -S -->
							<screen
								condition="jbcp">C:\Users\Me\My Downloads\sps-<replaceable>&lt;version&gt;</replaceable>&gt;java -jar &quot;&SPS_XDMS_JBOSS_HOME_BIN_WIN;shutdown.jar&quot; -S</screen>
							<screen
								condition="mob">C:\Users\Me\My Downloads\sps-&lt;version&gt;&gt;java -jar &quot;&SPS_XDMS_JBOSS_HOME_BIN_WIN;shutdown.jar&quot; -S</screen>
						</step>
					</stepalternatives>
				</step>
			</procedure>
		</section>
		<section
			id="itsps-binary-SIP_Presence_Service-Configuring">
			<title>Configuring (and Setting JBOSS_HOME)</title>
			<xi:include
				xmlns:xi="http://www.w3.org/2001/XInclude"
				href="mob-task-section-Setting_the_JBOSS_HOME_Environment_Variable.xml"></xi:include>
		</section>
		<section
			id="itsps-binary-SIP_Presence_Service-Testing">
			<title>Testing</title>
			<para>&nbsp;</para>
		</section>
		<section
			id="itsps-binary-SIP_Presence_Service-Uninstalling">
			<title>Uninstalling</title>
			<para>To uninstall the <application>SIP Presence Service</application> or <application>XDM Server</application>, simply delete the directory you decompressed the binary distribution archive into.</para>
		</section>
	</section>
</chapter>

